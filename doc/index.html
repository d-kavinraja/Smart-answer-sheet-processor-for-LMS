<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Answer Sheet Processor | LMS Middleware</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* * DESIGN SYSTEM: 
         * Base: Neumorphism (Soft UI)
         * Accents: Skeuomorphism (Realistic Paper & Light)
         */
        :root {
            --bg-color: #e0e5ec;
            --text-main: #4a4e69;
            --text-secondary: #7c7f90;
            --accent-blue: #6b8cce;
            --accent-green: #28a745;
            --accent-red: #e74c3c;
            --shadow-light: #ffffff;
            --shadow-dark: #a3b1c6;
            --paper-white: #fcfcfc;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none; /* Prevent text selection during interaction */
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            perspective: 1000px;
        }

        /* --- BACKGROUND ANIMATION --- */
        .bg-shape {
            position: absolute;
            border-radius: 50%;
            background: var(--bg-color);
            box-shadow: inset 10px 10px 20px var(--shadow-dark),
                        inset -10px -10px 20px var(--shadow-light);
            z-index: -1;
            animation: float 10s infinite ease-in-out;
        }
        .shape-1 { width: 400px; height: 400px; top: -100px; left: -100px; opacity: 0.6; }
        .shape-2 { width: 250px; height: 250px; bottom: 50px; right: -50px; animation-delay: 2s; opacity: 0.6; }
        .shape-3 { width: 150px; height: 150px; top: 40%; right: 10%; animation-delay: 4s; opacity: 0.4; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(20px); }
        }

        /* --- LAYOUT --- */
        .main-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            gap: 80px;
        }

        /* --- HERO SECTION --- */
        .hero-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
            min-height: 80vh;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }

        /* --- LEFT SIDE: INFO --- */
        .info-panel {
            padding: 40px;
            border-radius: 30px;
            background: var(--bg-color);
            box-shadow: 20px 20px 60px var(--shadow-dark),
                        -20px -20px 60px var(--shadow-light);
            transform: translateZ(20px);
            animation: fadeInUp 1s ease-out;
            position: relative;
            z-index: 10;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateZ(20px) translateY(20px); }
            to { opacity: 1; transform: translateZ(20px) translateY(0); }
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            color: #333;
            text-shadow: 2px 2px 4px rgba(163, 177, 198, 0.6);
            line-height: 1.1;
        }

        .badge {
            display: inline-block;
            padding: 6px 18px;
            border-radius: 50px;
            background: var(--bg-color);
            box-shadow: inset 3px 3px 6px var(--shadow-dark),
                        inset -3px -3px 6px var(--shadow-light);
            color: var(--accent-blue);
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        p.lead {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--text-main);
            margin-bottom: 25px;
        }

        .problem-solution {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            padding-left: 15px;
            border-left: 3px solid var(--accent-blue);
        }

        .tech-stack {
            display: flex;
            gap: 15px;
            margin-bottom: 35px;
        }

        .tech-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 0.9rem;
            background: var(--bg-color);
            box-shadow: 5px 5px 10px var(--shadow-dark),
                        -5px -5px 10px var(--shadow-light);
            transition: transform 0.2s;
            cursor: default;
            color: var(--text-main);
        }
        .tech-icon:hover {
            transform: translateY(-5px);
            color: var(--accent-blue);
        }

        .cta-group {
            display: flex;
            gap: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--bg-color);
            color: var(--accent-blue);
            box-shadow: 6px 6px 12px var(--shadow-dark),
                        -6px -6px 12px var(--shadow-light);
        }

        .btn-primary:active, .btn-primary:hover:active {
            box-shadow: inset 4px 4px 8px var(--shadow-dark),
                        inset -4px -4px 8px var(--shadow-light);
            transform: scale(0.98);
        }
        
        .btn-primary:hover {
             color: #4a6fa5;
        }

        .code-snippet {
            margin-top: 30px;
            padding: 15px;
            border-radius: 10px;
            background: #d8dce3;
            box-shadow: inset 5px 5px 10px var(--shadow-dark),
                        inset -5px -5px 10px var(--shadow-light);
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: #555;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .code-snippet i { opacity: 0.5; }

        /* --- RIGHT SIDE: VISUALIZATION --- */
        .visual-panel {
            height: 650px; 
            position: relative;
            transform-style: preserve-3d;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .interaction-hint {
            position: absolute;
            bottom: -30px; /* Moved down to clear the paper stack */
            font-size: 0.9rem;
            color: var(--text-secondary);
            background: rgba(255,255,255,0.7);
            padding: 10px 20px;
            border-radius: 20px;
            animation: pulse 2s infinite;
            pointer-events: none;
            z-index: 100; /* Ensured visibility */
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        @keyframes pulse { 
            0% { opacity: 0.8; transform: translateZ(60px) scale(1); } 
            50% { opacity: 1; transform: translateZ(60px) scale(1.05); } 
            100% { opacity: 0.8; transform: translateZ(60px) scale(1); } 
        }

        .paper-stack {
            position: relative;
            width: 360px;
            height: 550px;
            transform-style: preserve-3d;
            transform: rotateX(10deg) rotateY(-20deg) rotateZ(0deg); 
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        
        .paper-stack:hover {
            transform: rotateX(0deg) rotateY(-15deg) rotateZ(0deg) scale(1.02);
        }

        .paper {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--paper-white);
            border: 1px solid #d1d1d1;
            border-radius: 5px;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            padding: 25px;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
            font-family: 'Courier New', Courier, monospace;
            color: #222;
            transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }

        /* Stack Positioning */
        .paper:nth-child(1) { top: 16px; left: 16px; z-index: 1; transform: translateZ(10px); opacity: 0.6; }
        .paper:nth-child(2) { top: 8px; left: 8px; z-index: 2; transform: translateZ(20px); opacity: 0.8; }
        .paper:nth-child(3) { 
            top: 0; left: 0; 
            z-index: 3; 
            transform: translateZ(30px); 
            box-shadow: 5px 5px 15px rgba(0,0,0,0.15);
        }

        /* --- DETAILED PAPER CONTENT --- */
        .paper-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #333;
            padding-bottom: 12px;
            margin-bottom: 20px;
        }
        
        .uni-logo { font-size: 2rem; color: #333; }
        .header-text { text-align: right; }
        .uni-name { font-weight: bold; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .exam-session { font-size: 0.7rem; color: #555; }

        .paper-details {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
            font-size: 0.8rem;
            border: 1px solid #ddd;
            padding: 10px;
            background: #f9f9f9;
        }
        
        .detail-row { display: flex; justify-content: space-between; border-bottom: 1px dotted #ccc; padding-bottom: 2px;}
        .detail-row span:first-child { font-weight: bold; color: #444; }
        .detail-row.highlight { background: rgba(255, 235, 59, 0.4); transition: background 0.3s; }

        .marks-grid {
            border: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        .marks-header { background: #333; color: #fff; font-size: 0.6rem; text-align: center; padding: 2px;}
        .marks-row { display: flex; border-bottom: 1px solid #ccc; font-size: 0.7rem; }
        .marks-row div { flex: 1; text-align: center; padding: 2px; border-right: 1px solid #ccc;}
        .marks-row div:last-child { border-right: none; }
        .total-row { font-weight: bold; background: #eee; }

        .answer-area {
            flex-grow: 1;
            position: relative;
            border-top: 1px dashed #aaa;
            padding-top: 15px;
            margin-bottom: 10px;
            overflow: hidden; 
        }
        .handwritten-text {
            font-family: 'Segoe Print', 'Chalkboard SE', sans-serif;
            color: #000080;
            font-size: 0.85rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .barcode-area {
            height: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-top: 1px solid #eee;
            padding-top: 10px;
            flex-shrink: 0; 
        }
        .barcode {
            flex-grow: 1;
            height: 25px;
            background: repeating-linear-gradient(90deg, #000, #000 2px, #fff 2px, #fff 4px);
        }
        .file-id { font-size: 0.6rem; font-family: monospace; color: #666; }

        /* --- ANIMATION ELEMENTS --- */
        .scan-beam {
            position: absolute;
            top: -20px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #6b8cce;
            box-shadow: 0 0 15px #6b8cce, 0 0 30px #6b8cce;
            z-index: 20;
            opacity: 0;
            pointer-events: none;
        }

        /* NEW: Central Processing Status Overlay (Replaces OCR Labels) */
        .processing-status-text {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 50;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            pointer-events: none;
        }

        .status-stamp {
            position: absolute;
            bottom: 60px;
            right: 30px;
            border: 4px solid var(--accent-green);
            color: var(--accent-green);
            padding: 5px 15px;
            font-weight: 900;
            font-size: 1.5rem;
            text-transform: uppercase;
            transform: rotate(-15deg) scale(2);
            opacity: 0;
            background: rgba(255,255,255,0.9);
            z-index: 25;
            pointer-events: none;
            mix-blend-mode: multiply;
        }

        /* Animation Classes */
        .scanning .scan-beam { animation: scanPass 1.5s ease-in-out forwards; }
        @keyframes scanPass { 0% { top: 0; opacity: 1; } 100% { top: 100%; opacity: 0; } }

        .stamped .status-stamp { animation: stampSmash 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes stampSmash { to { opacity: 1; transform: rotate(-15deg) scale(1); } }

        .submitting { animation: slideUpOut 0.8s ease-in forwards; }
        @keyframes slideUpOut {
            0% { transform: translateZ(30px); opacity: 1; }
            50% { transform: translateZ(100px) translateY(-50px); opacity: 0.8; }
            100% { transform: translateZ(200px) translateY(-600px); opacity: 0; }
        }

        /* --- FEATURES & WORKFLOW SECTION --- */
        .section-header { text-align: center; margin-bottom: 20px; }
        .section-header h2 { font-size: 2rem; color: #333; margin-bottom: 10px; }
        .section-header p { color: var(--text-secondary); }

        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            padding: 30px;
            border-radius: 20px;
            background: var(--bg-color);
            box-shadow: 10px 10px 20px var(--shadow-dark), -10px -10px 20px var(--shadow-light);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .feature-card:hover { transform: translateY(-5px); }

        .feature-icon {
            width: 60px; height: 60px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.5rem; color: var(--accent-blue);
            background: var(--bg-color);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
            margin-bottom: 20px;
        }
        .feature-card h3 { margin-bottom: 15px; color: #333; }
        .feature-card p { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; }

        /* WORKFLOW SECTION */
        .workflow-section {
            padding: 40px; border-radius: 30px; background: var(--bg-color);
            box-shadow: inset 10px 10px 20px var(--shadow-dark), inset -10px -10px 20px var(--shadow-light);
        }

        .workflow-steps {
            display: flex; justify-content: space-between; align-items: flex-start;
            flex-wrap: wrap; gap: 20px; margin-top: 30px; position: relative;
        }
        .workflow-steps::before {
            content: ''; position: absolute; top: 40px; left: 50px; right: 50px;
            height: 4px; background: #d1d9e6; z-index: 0;
        }

        .step {
            flex: 1; min-width: 250px; text-align: center; position: relative; z-index: 1;
            background: var(--bg-color); border-radius: 20px; padding: 30px 20px;
            transition: transform 0.3s ease; cursor: pointer;
            box-shadow: 10px 10px 20px var(--shadow-dark), -10px -10px 20px var(--shadow-light);
            overflow: hidden;
        }
        .step:hover { transform: translateY(-10px); }

        .step-num {
            width: 80px; height: 80px; margin: 0 auto 20px;
            background: var(--bg-color); border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-weight: 900; font-size: 1.8rem; color: var(--accent-blue);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
            border: 4px solid var(--bg-color); position: relative; z-index: 2;
        }

        /* NEW: Inner Circle Button */
        .circle-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: var(--bg-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            color: var(--accent-blue);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.2s ease;
        }
        .circle-btn:active {
            box-shadow: inset 2px 2px 5px var(--shadow-dark), inset -2px -2px 5px var(--shadow-light);
            transform: scale(0.95);
        }
        
        .step:hover .circle-btn {
            color: var(--accent-green);
        }

        .step h4 { color: #333; margin-bottom: 10px; font-size: 1.2rem; }
        .step p { font-size: 0.9rem; color: var(--text-secondary); padding: 0 10px; }

        /* Workflow Step Animations */
        .scan-overlay {
            position: absolute; top: -100%; left: 0; width: 100%; height: 40%;
            background: linear-gradient(to bottom, transparent, rgba(107, 140, 206, 0.6), transparent);
            z-index: 5; pointer-events: none;
        }
        .step.scanning-active .scan-overlay { animation: scanDown 1.5s ease-in-out; }
        @keyframes scanDown { 0% { top: -100%; } 100% { top: 200%; } }

        .step.processing-active .step-num i { animation: spinGear 1s ease-in-out; }
        @keyframes spinGear { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .step.verify-active .step-num {
            color: var(--accent-green);
            box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
            transform: scale(0.95); transition: all 0.2s;
        }
        .step.verify-active .step-num i::before { content: "\f00c"; }

        .uni-watermark {
            position: absolute; top: 10px; right: 15px; font-size: 2rem;
            opacity: 0.1; color: var(--text-main); transform: rotate(15deg); pointer-events: none;
        }

        .card-badge {
            display: inline-block; background: var(--accent-blue); color: white;
            padding: 2px 8px; border-radius: 4px; font-size: 0.6rem; font-weight: bold;
            margin-bottom: 10px; text-transform: uppercase;
        }

        /* Comparison Section */
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .comparison-box { padding: 30px; border-radius: 20px; background: var(--bg-color); }
        .comparison-box h3 { margin-bottom: 20px; font-size: 1.2rem;}
        .bad-list li { color: var(--accent-red); list-style: none; margin-bottom: 10px; padding-left: 20px; position: relative;}
        .bad-list li::before { content: '✖'; position: absolute; left: 0; font-weight: bold;}
        .good-list li { color: var(--accent-green); list-style: none; margin-bottom: 10px; padding-left: 20px; position: relative;}
        .good-list li::before { content: '✔'; position: absolute; left: 0; font-weight: bold;}

        /* Responsive */
        @media (max-width: 968px) {
            .hero-section { grid-template-columns: 1fr; text-align: center; }
            .info-panel { order: 2; display: flex; flex-direction: column; align-items: center; }
            .visual-panel { order: 1; height: 550px; }
            .tech-stack, .cta-group { justify-content: center; }
            .problem-solution { text-align: left; }
            .paper-stack { width: 300px; height: 480px; }
            .workflow-steps::before { display: none; }
            .workflow-steps { flex-direction: column; align-items: center;}
            .step::after { content: '↓'; display: block; font-size: 2rem; color: #ccc; margin: 20px 0; }
            .step:last-child::after { display: none; }
            .comparison-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Decorative Background Shapes -->
    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>

    <div class="main-wrapper" id="tilt-wrapper">
        
        <!-- Hero Section -->
        <section class="hero-section">
            
            <!-- Left: Info Panel -->
            <div class="info-panel">
                <div class="badge">LMS Middleware</div>
                <h1>Smart Answer Sheet Processor</h1>
                
                <p class="lead">
                    An intelligent bridge that automates the digitization and secure submission of physical exam papers directly to Moodle LMS.
                </p>

                <div class="problem-solution">
                    <strong>The Problem:</strong> Manual scanning is slow, error-prone, and lacks verification.<br>
                    <strong>The Solution:</strong> A secure "Upload-Verify-Push" workflow that ensures integrity.
                </div>

                <div class="tech-stack">
                    <div class="tech-icon" title="Python"><i class="fab fa-python"></i></div>
                    <div class="tech-icon" title="Database"><i class="fas fa-database"></i></div>
                    <div class="tech-icon" title="Moodle API"><i class="fas fa-graduation-cap"></i></div>
                    <div class="tech-icon" title="Security"><i class="fas fa-shield-alt"></i></div>
                </div>

                <div class="cta-group">
                    <a href="https://github.com/d-kavinraja/Smart-answer-sheet-processor-for-LMS" target="_blank" class="btn btn-primary">
                        <i class="fab fa-github"></i> View on GitHub
                    </a>
                    <a href="https://github.com/d-kavinraja/Smart-answer-sheet-processor-for-LMS/blob/main/readme.md" target="_blank" class="btn btn-primary" style="color: var(--text-main)">
                        <i class="fas fa-book"></i> Read Docs
                    </a>
                </div>

                <div class="code-snippet">
                    <i class="fas fa-terminal"></i>
                    <span>git clone .../Smart-answer-sheet-processor</span>
                </div>
            </div>

            <!-- Right: 3D Visualization -->
            <div class="visual-panel">
                <div class="paper-stack" id="paperStack" onclick="processPaper()">
                    <!-- Bottom Papers (Decoration) -->
                    <div class="paper"></div>
                    <div class="paper"></div>
                    
                    <!-- Top Active Paper (Content) -->
                    <div class="paper" id="activePaper">
                        <div class="scan-beam"></div>
                        <div class="processing-status-text" id="procStatusText">SCANNING...</div>
                        
                        <!-- Header -->
                        <div class="paper-header">
                            <div class="uni-logo"><i class="fas fa-university"></i></div>
                            <div class="header-text">
                                <div class="uni-name">University Exam Hall</div>
                                <div class="exam-session">Semester Final - Spring 2024</div>
                            </div>
                        </div>

                        <!-- Metadata & Marks -->
                        <div class="paper-details">
                            <div class="info-grid" id="infoGrid">
                                <div class="detail-row" id="row-reg"><span>Reg No:</span> <span class="val">611221104088</span></div>
                                <div class="detail-row" id="row-sub"><span>Sub Code:</span> <span class="val">19AI405</span></div>
                                <div class="detail-row"><span>Date:</span> <span class="val">12-OCT-2024</span></div>
                                <div class="detail-row"><span>Hall:</span> <span class="val">B-204</span></div>
                            </div>
                            
                            <div class="marks-grid">
                                <div class="marks-header">OFFICE USE</div>
                                <div class="marks-row"><div>Q1</div><div>10</div></div>
                                <div class="marks-row"><div>Q2</div><div>15</div></div>
                                <div class="marks-row total-row"><div>Tot</div><div>98</div></div>
                            </div>
                        </div>

                        <!-- Answer Body -->
                        <div class="answer-area">
                            <div class="handwritten-text">
                                Q1: The neural network architecture...<br>
                                Backpropagation calculates gradients...<br>
                                - Input Layer<br>
                                - Hidden Layer<br>
                                - Output Layer<br>
                                Optimization reduces loss function...
                            </div>
                        </div>

                        <!-- Footer Barcode -->
                        <div class="barcode-area">
                            <div class="barcode"></div>
                            <div class="file-id">UID: 88A-X99</div>
                        </div>

                        <!-- NO OCR LABELS HERE -->

                        <div class="status-stamp" id="statusStamp">VERIFIED</div>
                    </div>
                </div>
                <div class="interaction-hint"><i class="fas fa-mouse-pointer"></i> Click paper to simulate processing</div>
            </div>
        </section>

        <!-- New: Interactive Workflow Section -->
        <section>
            <div class="section-header">
                <h2>How It Works</h2>
                <p>The 3-Step "Upload-Verify-Push" Lifecycle</p>
                <small style="color: var(--accent-blue);">(Click cards to see action)</small>
            </div>
            <div class="workflow-section">
                <div class="workflow-steps">
                    
                    <!-- Step 1: Admin Scan (Interactive) -->
                    <div class="step" id="step1" onclick="animateStep(1)">
                        <div class="scan-overlay"></div> <!-- Hidden Beam -->
                        <div class="uni-watermark"><i class="fas fa-university"></i></div> <!-- Added Logo -->
                        <div class="card-badge">Admin Portal</div>
                        
                        <div class="step-num">
                            <button class="circle-btn"><i class="fas fa-play"></i></button>
                        </div>
                        <h4>1. Admin Scan</h4>
                        <p>Exam cell scans papers as <code>{Reg}_{Sub}.pdf</code> and bulk uploads them via the Staff Portal.</p>
                    </div>

                    <!-- Step 2: Process -->
                    <div class="step" id="step2" onclick="animateStep(2)">
                        <div class="card-badge">Middleware</div>
                        <div class="step-num"><i class="fas fa-cogs"></i></div>
                        <h4>2. Process & Map</h4>
                        <p>Middleware extracts metadata, validates files, and maps them to Moodle Assignments.</p>
                    </div>

                    <!-- Step 3: Verify -->
                    <div class="step" id="step3" onclick="animateStep(3)">
                        <div class="card-badge">Student Portal</div>
                        <div class="step-num"><i class="fas fa-check-double"></i></div>
                        <h4>3. Student Verify</h4>
                        <p>Students log in, preview their specific answer sheet, and click "Submit" to push to Moodle.</p>
                    </div>

                </div>
            </div>
        </section>

        <!-- Expanded Features Section -->
        <section>
            <div class="section-header">
                <h2>Key Features</h2>
                <p>Designed for Security, Integrity, and Speed</p>
            </div>
            <div class="features-section">
                <!-- Original 3 -->
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                    <h3>Bulk Ingestion</h3>
                    <p>Admin staff can drag-and-drop folders of scanned scripts. The system handles hundreds of files simultaneously.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-brain"></i></div>
                    <h3>Intelligent Mapping</h3>
                    <p>Parses filenames (e.g., <code>123456_CS101.pdf</code>) to automatically extract Student ID and Subject Code.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-user-check"></i></div>
                    <h3>Student Verification</h3>
                    <p>Ensures non-repudiation. Students view their specific paper and trigger the final submission themselves.</p>
                </div>

                <!-- New 3 based on Readme -->
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-file-contract"></i></div>
                    <h3>Audit Logging</h3>
                    <p>A rigid ledger tracks every action (Upload, View, Submit) with IP addresses to ensure a secure chain of custody.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>Auto-Validation</h3>
                    <p>Instantly validates file naming conventions and extensions. Rejects invalid files before they enter the system.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-graduation-cap"></i></div>
                    <h3>Moodle Native</h3>
                    <p>Uses official Moodle Web Services to push files directly to the draft area and trigger grading workflows.</p>
                </div>
            </div>
        </section>

        <!-- New: Comparison Section -->
        <section>
            <div class="section-header">
                <h2>Why Choose This?</h2>
            </div>
            <div class="comparison-grid">
                <div class="comparison-box" style="box-shadow: inset 5px 5px 10px #d1d9e6, inset -5px -5px 10px #fff;">
                    <h3><i class="fas fa-times-circle" style="color: var(--accent-red)"></i> Manual Process</h3>
                    <ul class="bad-list">
                        <li>Time-consuming manual uploads</li>
                        <li>High risk of uploading to wrong student</li>
                        <li>No student verification before grading</li>
                        <li>Direct database manipulation risks</li>
                    </ul>
                </div>
                <div class="comparison-box" style="box-shadow: 10px 10px 20px #a3b1c6, -10px -10px 20px #fff;">
                    <h3><i class="fas fa-check-circle" style="color: var(--accent-green)"></i> Smart Processor</h3>
                    <ul class="good-list">
                        <li>Automated bulk processing in seconds</li>
                        <li>Regex-based accurate file mapping</li>
                        <li>Student-led submission & review</li>
                        <li>Secure API-based integration</li>
                    </ul>
                </div>
            </div>
        </section>

    </div>

    <script>
        // 3D Parallax Tilt Effect
        const wrapper = document.getElementById('tilt-wrapper');
        const heroSection = document.querySelector('.hero-section');

        document.addEventListener('mousemove', (e) => {
            const x = (window.innerWidth / 2 - e.pageX) / 40;
            const y = (window.innerHeight / 2 - e.pageY) / 40;
            // Apply subtle tilt to the main container
            heroSection.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
        });

        document.addEventListener('mouseleave', () => {
            heroSection.style.transform = `rotateY(0deg) rotateX(0deg)`;
        });

        // --- INTERACTIVE PAPER SIMULATION ---
        const activePaper = document.getElementById('activePaper');
        const statusStamp = document.getElementById('statusStamp');
        const statusText = document.getElementById('procStatusText');
        
        let isProcessing = false;
        
        // Mock Data for cycling
        const examData = [
            { reg: "611221104088", sub: "19AI405", mark: "98", text: "Backpropagation calculates gradients..." },
            { reg: "611221104092", sub: "CS_302", mark: "85", text: "Polymorphism allows objects to be..." },
            { reg: "611221104105", sub: "ME_101", mark: "92", text: "Thermodynamics second law states..." }
        ];
        let dataIndex = 0;

        function processPaper() {
            if (isProcessing) return;
            isProcessing = true;

            // 1. Start Scan
            activePaper.classList.add('scanning');
            statusText.style.opacity = '1';
            statusText.innerText = "SCANNING...";

            // 2. Timed Events for Extraction Visuals (Without OCR Labels)
            setTimeout(() => {
                statusText.innerText = "EXTRACTING...";
                document.getElementById('row-reg').classList.add('highlight');
            }, 500); 

            setTimeout(() => {
                statusText.innerText = "MAPPING...";
                document.getElementById('row-sub').classList.add('highlight');
            }, 1000); 

            // 3. Verification Stamp
            setTimeout(() => {
                statusText.style.opacity = '0'; // Hide text as stamp appears
                activePaper.classList.add('stamped');
            }, 1500);

            // 4. Submit Animation (Fly Away)
            setTimeout(() => {
                activePaper.classList.add('submitting');
            }, 2300);

            // 5. Reset for Next Paper
            setTimeout(() => {
                resetPaper();
            }, 3100);
        }

        function resetPaper() {
            // Remove all animation classes
            activePaper.classList.remove('scanning', 'stamped', 'submitting');
            
            // Reset Styles
            statusText.style.opacity = '0';
            document.getElementById('row-reg').classList.remove('highlight');
            document.getElementById('row-sub').classList.remove('highlight');

            // Update Content
            dataIndex = (dataIndex + 1) % examData.length;
            const data = examData[dataIndex];
            
            document.querySelector('#row-reg .val').innerText = data.reg;
            document.querySelector('#row-sub .val').innerText = data.sub;
            document.querySelector('.marks-row.total-row div:last-child').innerText = data.mark;
            document.querySelector('.handwritten-text').innerText = data.text;
            
            // Allow clicking again
            isProcessing = false;
        }

        // --- NEW: INTERACTIVE WORKFLOW STEPS ---
        function animateStep(stepNum) {
            const step = document.getElementById('step' + stepNum);
            
            if (stepNum === 1) {
                // Admin Scan Animation
                step.classList.add('scanning-active');
                setTimeout(() => step.classList.remove('scanning-active'), 1500);
            }
            else if (stepNum === 2) {
                // Process Animation
                step.classList.add('processing-active');
                setTimeout(() => step.classList.remove('processing-active'), 1000);
            }
            else if (stepNum === 3) {
                // Verify Animation
                step.classList.add('verify-active');
                setTimeout(() => step.classList.remove('verify-active'), 500);
            }
        }
    </script>
</body>
</html>