# ===========================================
# Examination Middleware Configuration
# ===========================================

# Application Settings
APP_NAME="Exam Submission Middleware"
APP_VERSION="1.0.0"
DEBUG=true
SECRET_KEY="SECRET_KEY=8f3a9c7e4b2d9e1a6c7f8e9d0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8"
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Server Configuration
HOST=127.0.0.1
PORT=8000
RELOAD=true

# ===========================================
# PostgreSQL Database Configuration
# ===========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=Kavin1612!
POSTGRES_DB=exam_middleware
DATABASE_URL=postgresql+asyncpg://postgres:Kavin1612!@localhost:5432/exam_middleware

# ===========================================
# Redis Configuration (for sessions & queue)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Moodle LMS Configuration
# ===========================================
MOODLE_BASE_URL=https://1844fdb23815.ngrok-free.app
MOODLE_WS_ENDPOINT=/webservice/rest/server.php
MOODLE_UPLOAD_ENDPOINT=/webservice/upload.php
MOODLE_TOKEN_ENDPOINT=/login/token.php
MOODLE_SERVICE=moodle_mobile_app

# Admin token for service account operations (optional)
MOODLE_ADMIN_TOKEN=c53569d516cd601cb78849cd64f59eaa

# ===========================================
# File Storage Configuration
# ===========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=.pdf,.jpg,.jpeg,.png

# ===========================================
# ML Service Configuration
# ===========================================
# If using external Streamlit service for extraction
ML_SERVICE_URL=http://localhost:8501
ML_SERVICE_ENABLED=false

# ===========================================
# Subject to Assignment Mapping
# These are your actual Moodle assignment IDs
# Format: SUBJECT_CODE=ASSIGNMENT_ID
# ===========================================
# From your URLs:
# 19AI405 -> /mod/assign/view.php?id=4
# 19AI411 -> /mod/assign/view.php?id=6
# ML -> /mod/assign/view.php?id=2

SUBJECT_19AI405_ASSIGNMENT_ID=4
SUBJECT_19AI411_ASSIGNMENT_ID=6
SUBJECT_ML_ASSIGNMENT_ID=2

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log

# ===========================================
# CORS Configuration
# ===========================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://127.0.0.1:8000"]
